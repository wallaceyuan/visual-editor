[{"/Users/yuanyuan/Documents/yuan/visual-editor/src/App.tsx":"1","/Users/yuanyuan/Documents/yuan/visual-editor/src/reportWebVitals.ts":"2","/Users/yuanyuan/Documents/yuan/visual-editor/src/index.tsx":"3","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/VisualEditor.tsx":"4","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/visual-editor.blocks.tsx":"5","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/visual-editor.utils.ts":"6","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/utils/useModel.tsx":"7","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/utils/visual.command.tsx":"8"},{"size":1474,"mtime":1612855618471,"results":"9","hashOfConfig":"10"},{"size":425,"mtime":1612333763652,"results":"11","hashOfConfig":"10"},{"size":529,"mtime":1612426015205,"results":"12","hashOfConfig":"10"},{"size":10726,"mtime":1612941352694,"results":"13","hashOfConfig":"10"},{"size":1432,"mtime":1612854897313,"results":"14","hashOfConfig":"10"},{"size":1174,"mtime":1612841640624,"results":"15","hashOfConfig":"10"},{"size":1601,"mtime":1612678076813,"results":"16","hashOfConfig":"10"},{"size":624,"mtime":1612941355999,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"gxz4xe",{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"24","messages":"25","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"26","messages":"27","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/yuanyuan/Documents/yuan/visual-editor/src/App.tsx",["35","36","37"],"/Users/yuanyuan/Documents/yuan/visual-editor/src/reportWebVitals.ts",[],"/Users/yuanyuan/Documents/yuan/visual-editor/src/index.tsx",[],"/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/VisualEditor.tsx",["38","39"],"/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/visual-editor.blocks.tsx",["40"],"/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/visual-editor.utils.ts",[],"/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/utils/useModel.tsx",["41","42"],"import React from \"react\";\nimport {useCallback, useEffect, useRef, useState} from \"react\";\n\n\nexport function useModel<T>(propsValue: T, propsEmitter?: (val: T) => void, config?: { autoWatch?: boolean | undefined, autoEmit?: boolean | undefined }) {\n\n  const current = useRef(propsValue)\n\n  const [, setValue] = useState(() => propsValue)\n\n  useEffect(()=>{\n    if(config?.autoWatch !== false){\n      setValue(propsValue)\n      current.current = propsValue;\n    }\n  },[propsValue])\n\n  const [ model ] = useState(()=>({\n    get value(): T {\n      return current.current\n    },\n    set value(val: T) {\n      current.current = val;\n      setValue(val)\n      if (config?.autoEmit !== false) {\n        !!propsEmitter && propsEmitter(val)\n      }\n    },\n    onChange: (val: T | React.ChangeEvent<any>) => {\n      if('target' in val){\n        model.value = val.target.value\n      }else {\n        model.value = val\n      }\n    }\n  }))\n  return model;\n}\n\n\nconst TestUseModelComponent: React.FC<{\n  value?: string;\n  onChange?: (val?: string) => void;\n  inputProps?: React.DetailedHTMLProps<React.InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>,\n}> = (props) => {\n\n  const model = useModel( props.value, props.onChange );\n\n  return(\n    <input type='text'  {...{\n      value: model.value,\n      onChange: model.onChange\n    }} />\n  )\n}\n\n\nexport const TestUseModelPage = () => {\n  const [text, setText] = useState('hello world' as string | undefined)\n  return (\n    <div>\n      <h4>测试 useModel </h4>\n      <TestUseModelComponent value={text} onChange={setText} />\n      text:{text}\n    </div>\n  )\n}\n\n","/Users/yuanyuan/Documents/yuan/visual-editor/src/packages/utils/visual.command.tsx",["43"],{"ruleId":"44","severity":1,"message":"45","line":7,"column":10,"nodeType":"46","messageId":"47","endLine":7,"endColumn":26},{"ruleId":"44","severity":1,"message":"48","line":36,"column":21,"nodeType":"46","messageId":"47","endLine":36,"endColumn":28},{"ruleId":"44","severity":1,"message":"49","line":59,"column":19,"nodeType":"46","messageId":"47","endLine":59,"endColumn":28},{"ruleId":"50","severity":1,"message":"51","line":110,"column":7,"nodeType":"52","endLine":110,"endColumn":31,"suggestions":"53"},{"ruleId":"54","severity":1,"message":"55","line":141,"column":49,"nodeType":"56","messageId":"57","endLine":141,"endColumn":51},{"ruleId":"50","severity":1,"message":"58","line":37,"column":15,"nodeType":"59","endLine":37,"endColumn":24},{"ruleId":"44","severity":1,"message":"60","line":2,"column":9,"nodeType":"46","messageId":"47","endLine":2,"endColumn":20},{"ruleId":"50","severity":1,"message":"61","line":16,"column":5,"nodeType":"52","endLine":16,"endColumn":17,"suggestions":"62"},{"ruleId":"50","severity":1,"message":"63","line":27,"column":5,"nodeType":"52","endLine":27,"endColumn":7,"suggestions":"64"},"@typescript-eslint/no-unused-vars","'TestUseModelPage' is defined but never used.","Identifier","unusedVar","'setData' is assigned a value but never used.","'setConfig' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'getter'. Either include it or remove the dependency array. Outer scope values like 'dataModel.value.blocks' aren't valid dependencies because mutating them doesn't re-render the component.","ArrayExpression",["65"],"array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","Assignments to the 'block' variable from inside React Hook useEffect will be lost after each render. To preserve the value over time, store it in a useRef Hook and keep the mutable value in the '.current' property. Otherwise, you can move this variable directly inside useEffect.","ObjectExpression","'useCallback' is defined but never used.","React Hook useEffect has a missing dependency: 'config?.autoWatch'. Either include it or remove the dependency array.",["66"],"React Hook useEffect has a missing dependency: 'comander'. Either include it or remove the dependency array.",["67"],{"desc":"68","fix":"69"},{"desc":"70","fix":"71"},{"desc":"72","fix":"73"},"Update the dependencies array to be: [getter]",{"range":"74","text":"75"},"Update the dependencies array to be: [config?.autoWatch, propsValue]",{"range":"76","text":"77"},"Update the dependencies array to be: [comander]",{"range":"78","text":"79"},[3927,3951],"[getter]",[467,479],"[config?.autoWatch, propsValue]",[454,456],"[comander]"]